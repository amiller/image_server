$def with (ARGS, images, total, prev_page_num, next_page_num)

  <html>
  <head>
    <script type="text/javascript" src="http://gettopup.com/releases/latest/top_up-min.js"></script>
  </head>
  <body>
  <a href="/p/$prev_page_num">Prev</a><br>
  <a href="/p/$next_page_num">Next</a><br>
  <table>
    Showing $(len(images))) images ($(len(images)) total)

    $for x in images[:ARGS.limit]:
      <tr>
	<td><a href="/i/$x" class="top_up" target="_blank">
	    <img src="/t/$x" style="height:50;max-width:100"/></a></td>
	$if not ARGS.movedir is None:
   	  <td>
	    <input IMG="$x" 
		   class="move_button" style="height:30" type="submit" 
		   value="Move to $(ARGS.movedir)">
	  </td>
	<td>$x</td>
      </tr>
  </table>
  
  <script type="text/javascript">
    // Use jQuery to handle moving images
    $$("input.move_button").click(function () {
	var td = this
	var url = '/move/' + $$(this).attr('IMG');
	$$.ajax({
	    url: url,
	    type: "POST",
	    success: function(data) { 
		$$(td).closest('tr').hide()
	    },
	    error: function (data) {
		console.error(data.responseText);
	    }
	})
    })
  </script>

  </body>
  </html>
